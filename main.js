(()=>{"use strict";var e=function(e){e.classList.add("popup_is-opened"),document.addEventListener("click",n),document.addEventListener("keydown",o)},t=function(e){e.classList.remove("popup_is-opened"),document.removeEventListener("click",n),document.removeEventListener("keydown",o)};function o(e){if("Escape"===e.key){var o=document.querySelector(".popup_is-opened");o&&t(o)}}function n(e){e.target.classList.contains("popup")&&t(e.target)}var r=document.querySelector("#card-template").content,c=document.querySelector(".popup_type_image"),i=document.querySelector(".popup__image"),a=document.querySelector(".popup__caption");function u(e){e.currentTarget.classList.toggle("card__like-button_is-active")}function p(t){i.src=t.target.src,a.textContent=t.target.alt,e(c)}function l(e){e.target.closest(".places__item").remove()}var s=function(e,t,o,n,c){var i=r.cloneNode(!0),a=i.querySelector(".card__title"),u=i.querySelector(".card__image");return u.src=e,u.alt=t,a.textContent=t,i.querySelector(".card__delete-button").addEventListener("click",o),i.querySelector(".card__like-button").addEventListener("click",n),i.querySelector(".card__image").addEventListener("click",c),i},d=document.querySelector(".page"),f=document.querySelector(".places__list"),m=document.querySelector(".popup_type_edit"),_=document.querySelector(".popup_type_new-card"),x=document.querySelector(".popup__input_type_name"),y=document.querySelector(".popup__input_type_description"),v=document.querySelector(".profile__title"),b=document.querySelector(".profile__description");[{name:"Арктика",link:"https://images.unsplash.com/photo-1589656966895-2f33e7653819?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Мексика",link:"https://images.unsplash.com/photo-1521216774850-01bc1c5fe0da?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Европа",link:"https://images.unsplash.com/photo-1516483638261-f4dbaf036963?q=80&w=1972&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Азия",link:"https://images.unsplash.com/photo-1493780474015-ba834fd0ce2f?q=80&w=2042&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Африка",link:"https://images.unsplash.com/photo-1507461476191-0ed4f9f18533?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Антарктика",link:"https://images.unsplash.com/photo-1551415923-a2297c7fda79?q=80&w=1932&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}].forEach((function(e){f.append(s(e.link,e.name,l,u,p))})),d.addEventListener("click",(function(o){o.target.classList.contains("profile__edit-button")?(x.value=v.textContent,y.value=b.textContent,e(m)):o.target.classList.contains("profile__add-button")?e(_):o.target.classList.contains("popup__close")&&t(o.target.closest(".popup"))}));var w=document.forms["edit-profile"],q=document.forms["new-place"];q.addEventListener("submit",(function(e){e.preventDefault();var o=document.querySelector(".popup__input_type_card-name").value,n=document.querySelector(".popup__input_type_url").value;f.prepend(s(n,o,l,u,p)),q.reset(),t(_)})),w.addEventListener("submit",(function(e){e.preventDefault(),v.textContent=x.value,b.textContent=y.value,t(m)}))})();